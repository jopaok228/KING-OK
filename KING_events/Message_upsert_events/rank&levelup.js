const _0x38be96=_0xb378;(function(_0x552e1a,_0x1ce3a7){const _0x4d3ebd=_0xb378,_0x2bcffb=_0x552e1a();while(!![]){try{const _0x1b1dac=-parseInt(_0x4d3ebd(0xdd))/0x1*(parseInt(_0x4d3ebd(0xf4))/0x2)+parseInt(_0x4d3ebd(0xe3))/0x3+-parseInt(_0x4d3ebd(0xe6))/0x4+-parseInt(_0x4d3ebd(0xfa))/0x5*(parseInt(_0x4d3ebd(0xff))/0x6)+-parseInt(_0x4d3ebd(0xe5))/0x7*(-parseInt(_0x4d3ebd(0xf8))/0x8)+-parseInt(_0x4d3ebd(0xdc))/0x9+-parseInt(_0x4d3ebd(0xfd))/0xa*(-parseInt(_0x4d3ebd(0xe2))/0xb);if(_0x1b1dac===_0x1ce3a7)break;else _0x2bcffb['push'](_0x2bcffb['shift']());}catch(_0x2488b8){_0x2bcffb['push'](_0x2bcffb['shift']());}}}(_0x5e11,0xa2ec7));const _0x104bf1=(function(){let _0x365173=!![];return function(_0x398fed,_0x471ce0){const _0x503568=_0x365173?function(){if(_0x471ce0){const _0x10e2f2=_0x471ce0['apply'](_0x398fed,arguments);return _0x471ce0=null,_0x10e2f2;}}:function(){};return _0x365173=![],_0x503568;};}()),_0x265336=_0x104bf1(this,function(){const _0xeb91c0=_0xb378;return _0x265336[_0xeb91c0(0x100)]()[_0xeb91c0(0xeb)]('(((.+)+)+)+$')[_0xeb91c0(0x100)]()[_0xeb91c0(0xda)](_0x265336)[_0xeb91c0(0xeb)](_0xeb91c0(0xf7));});_0x265336();function _0xb378(_0x578fa9,_0x3f67bf){const _0x40ce6b=_0x5e11();return _0xb378=function(_0x265336,_0x104bf1){_0x265336=_0x265336-0xd8;let _0x5e11e1=_0x40ce6b[_0x265336];if(_0xb378['qKVPhr']===undefined){var _0xb378ff=function(_0x55e95d){const _0x2f599f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x64ddf1='',_0x3ac923='',_0x325bd4=_0x64ddf1+_0xb378ff;for(let _0x1600b7=0x0,_0x474005,_0x122792,_0x3cd028=0x0;_0x122792=_0x55e95d['charAt'](_0x3cd028++);~_0x122792&&(_0x474005=_0x1600b7%0x4?_0x474005*0x40+_0x122792:_0x122792,_0x1600b7++%0x4)?_0x64ddf1+=_0x325bd4['charCodeAt'](_0x3cd028+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x474005>>(-0x2*_0x1600b7&0x6)):_0x1600b7:0x0){_0x122792=_0x2f599f['indexOf'](_0x122792);}for(let _0x9d17d2=0x0,_0x28b9ad=_0x64ddf1['length'];_0x9d17d2<_0x28b9ad;_0x9d17d2++){_0x3ac923+='%'+('00'+_0x64ddf1['charCodeAt'](_0x9d17d2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3ac923);};_0xb378['qlMYGK']=_0xb378ff,_0x578fa9=arguments,_0xb378['qKVPhr']=!![];}const _0x5d99e2=_0x40ce6b[0x0],_0x562d56=_0x265336+_0x5d99e2,_0xc59a8c=_0x578fa9[_0x562d56];if(!_0xc59a8c){const _0x353661=function(_0x134dd2){this['yQFZnp']=_0x134dd2,this['pcKSOQ']=[0x1,0x0,0x0],this['BDrgdC']=function(){return'newState';},this['RMJKWB']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['uTPgQL']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x353661['prototype']['vsAyoo']=function(){const _0x28ffa7=new RegExp(this['RMJKWB']+this['uTPgQL']),_0x4ca072=_0x28ffa7['test'](this['BDrgdC']['toString']())?--this['pcKSOQ'][0x1]:--this['pcKSOQ'][0x0];return this['zZhfhO'](_0x4ca072);},_0x353661['prototype']['zZhfhO']=function(_0x3ccbbe){if(!Boolean(~_0x3ccbbe))return _0x3ccbbe;return this['WytgkU'](this['yQFZnp']);},_0x353661['prototype']['WytgkU']=function(_0x27ef5c){for(let _0x57fdb8=0x0,_0x17b830=this['pcKSOQ']['length'];_0x57fdb8<_0x17b830;_0x57fdb8++){this['pcKSOQ']['push'](Math['round'](Math['random']())),_0x17b830=this['pcKSOQ']['length'];}return _0x27ef5c(this['pcKSOQ'][0x0]);},new _0x353661(_0xb378)['vsAyoo'](),_0x5e11e1=_0xb378['qlMYGK'](_0x5e11e1),_0x578fa9[_0x562d56]=_0x5e11e1;}else _0x5e11e1=_0xc59a8c;return _0x5e11e1;},_0xb378(_0x578fa9,_0x3f67bf);}function _0x5e11(){const _0x508d28=['mtiZmZK1rwntvefc','tevwruXFvva','Cu1QqKy','oty4ntiXmg5fzfDHza','y2nYtuC','nNj5CMDIuW','Dg9tDhjPBMC','B3vP','Bgv2zwW','BMfTzq','y29UC3rYDwn0B3i','C2vUze1LC3nHz2u','ota1mdy3rff1Aezi','mteYodeZnuL4zfPRDq','EgnOEu0','uw94zKu','zxHWB3j0CW','q3vsuMG','mtfvCgzuuLa','mJi4ndqXm1bbwLP1CG','zMLUze9Uzq','oti4odC2owPxvunryW','ndu0ndK4oeHnDMPmBa','Aen6yNy','C2f2zq','zxHW','isbwB3vZigf2zxOGyxr0zwLUDcbSzsbUAxzLyxuG','C2vHCMnO','rSoPBgLJAxrHDgLVBNmG','y3jLyxrL','CgHnAxC','isdWN46j','B3zSlxvZzxi','lI4VlI4Vrgf0yujHC2uVzwnVBM9TAwu','Efjpsuy','DufZtgG','mMTHBMTdBW','lI4VlI4Vrgf0yujHC2uVBgv2zwXZ','BwvZC2fNzxm','kcGOlISPkYKRksSK','ofr3vvrWCa','t0nevxu'];_0x5e11=function(){return _0x508d28;};return _0x5e11();}const {levels,calculateLevel}=require(_0x38be96(0xf5)),{Ranks}=require('../../DataBase/rank'),{changerPseudo,ajouterUtilisateur,getInfosUtilisateur}=require(_0x38be96(0xf1));async function rankAndLevelUp(_0x762507,_0x53c045,_0x23574f,_0x4eb598,_0x237a1d,_0x509f17){const _0x5391c7=_0x38be96,_0x402e45={'hCzbv':function(_0x45f568,_0x32fe2c){return _0x45f568&&_0x32fe2c;},'xchyM':function(_0x3ddcaf,_0x3cf4df){return _0x3ddcaf(_0x3cf4df);},'QoxfE':function(_0x3275ac,_0x4ff82a,_0x4ec412){return _0x3275ac(_0x4ff82a,_0x4ec412);},'ccrMG':function(_0x40655f,_0x2b33f9){return _0x40655f||_0x2b33f9;},'phMiw':'ovl-user','qMjBF':function(_0x22421e,_0xc94c52){return _0x22421e||_0xc94c52;},'uAsLh':function(_0x3f5bfa,_0x4bffb4){return _0x3f5bfa(_0x4bffb4);},'OCDUu':function(_0x2a397c,_0x5b4846){return _0x2a397c>_0x5b4846;},'CuRRh':function(_0x205744,_0xfbfbdd){return _0x205744===_0xfbfbdd;},'xROIF':_0x5391c7(0x101)};if(_0x402e45[_0x5391c7(0xe7)](_0x23574f,_0x4eb598)){const _0x683fd7=_0x4eb598,_0x20adb0=await _0x402e45[_0x5391c7(0xde)](getInfosUtilisateur,_0x683fd7);!_0x20adb0&&await _0x402e45[_0x5391c7(0xdf)](ajouterUtilisateur,_0x683fd7,_0x402e45[_0x5391c7(0xfe)](_0x237a1d,_0x402e45['phMiw']));await changerPseudo(_0x683fd7,_0x402e45[_0x5391c7(0xfe)](_0x237a1d,_0x402e45[_0x5391c7(0xee)]));let _0x571ae4=await Ranks[_0x5391c7(0xe4)]({'where':{'id':_0x683fd7}});if(!_0x571ae4)_0x571ae4=await Ranks[_0x5391c7(0xed)]({'id':_0x683fd7,'name':_0x237a1d||_0x5391c7(0xf0),'level':0x0,'exp':0xa,'messages':0x1});else{_0x571ae4[_0x5391c7(0xd9)]=_0x402e45[_0x5391c7(0xfc)](_0x237a1d,_0x402e45[_0x5391c7(0xee)]),_0x571ae4[_0x5391c7(0xf6)]+=0x1,_0x571ae4[_0x5391c7(0xe9)]+=0xa;const _0x359c60=_0x402e45[_0x5391c7(0xf3)](calculateLevel,_0x571ae4[_0x5391c7(0xe9)]);_0x402e45[_0x5391c7(0xf9)](_0x359c60,_0x571ae4[_0x5391c7(0xd8)])&&_0x402e45[_0x5391c7(0xe1)](_0x509f17[_0x5391c7(0xfb)],_0x402e45[_0x5391c7(0xf2)])&&await _0x762507[_0x5391c7(0xdb)](_0x53c045,{'text':_0x5391c7(0xec)+_0x237a1d+_0x5391c7(0xea)+_0x359c60+_0x5391c7(0xef)}),_0x571ae4['level']=_0x359c60,await _0x571ae4[_0x5391c7(0xe8)]();}}}module[_0x38be96(0xe0)]=rankAndLevelUp;